<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aurora OS • MysticSoft</title>
    <style>
        :root {
            --vinho: #3e0a29;
            --verde: #b2d1b1;
            --azul: #0b1836;
            --dourado: #f0aa53;
            --pergaminho: #f2eaff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--azul);
            color: var(--pergaminho);
            height: 100vh;
            overflow: hidden;
        }

        /* === TELA DE BOOT === */
        .boot-screen {
            position: fixed;
            inset: 0;
            background: linear-gradient(135deg, var(--azul), #1a2a4a);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            cursor: pointer;
        }

        .boot-logo {
            width: 200px;
            height: 200px;
            margin-bottom: 30px;
            background: linear-gradient(45deg, var(--dourado), #ffd700);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            filter: drop-shadow(0 0 20px var(--dourado));
        }

        .boot-title {
            font-size: 32px;
            color: var(--dourado);
            margin-bottom: 20px;
            text-shadow: 0 0 10px var(--dourado);
        }

        .boot-progress {
            width: 300px;
            height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .boot-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--dourado), #ffd700);
            width: 0%;
            transition: width 0.3s ease;
        }

        .boot-hint {
            color: var(--pergaminho);
            opacity: 0.8;
            font-size: 14px;
        }

        /* === DESKTOP === */
        .desktop {
            display: none;
            position: relative;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, var(--azul) 0%, var(--vinho) 50%, var(--azul) 100%);
        }

        .desktop.active {
            display: block;
        }

        /* === BARRA DE TAREFAS === */
        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: linear-gradient(180deg, #c0c0c0 0%, #808080 100%);
            border-top: 2px solid #ffffff;
            display: flex;
            align-items: center;
            padding: 0 10px;
            box-shadow: inset 1px 1px 0 #ffffff, inset -1px -1px 0 #404040;
            z-index: 1000;
        }

        .start-button {
            background: linear-gradient(180deg, #c0c0c0 0%, #808080 100%);
            border: 2px outset #c0c0c0;
            padding: 8px 16px;
            font-weight: bold;
            color: #000;
            cursor: pointer;
            margin-right: 10px;
            position: relative;
        }

        .start-button:active {
            border: 2px inset #c0c0c0;
        }

        .start-button.active {
            border: 2px inset #c0c0c0;
        }

        /* === MENU INICIAR === */
        .start-menu {
            position: absolute;
            bottom: 60px;
            left: 0;
            width: 300px;
            background: linear-gradient(180deg, #c0c0c0 0%, #808080 100%);
            border: 2px outset #c0c0c0;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
            display: none;
            z-index: 2000;
        }

        .start-menu.active {
            display: block;
        }

        .start-menu-header {
            background: linear-gradient(90deg, var(--azul), var(--vinho));
            color: var(--pergaminho);
            padding: 10px;
            font-weight: bold;
            border-bottom: 1px solid #808080;
        }

        .start-menu-items {
            padding: 5px 0;
        }

        .start-menu-item {
            display: flex;
            align-items: center;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 14px;
            color: #000;
        }

        .start-menu-item:hover {
            background: #0066cc;
            color: white;
        }

        .start-menu-icon {
            width: 24px;
            height: 24px;
            margin-right: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .start-menu-separator {
            height: 1px;
            background: #808080;
            margin: 5px 10px;
        }

        .clock {
            margin-left: auto;
            background: linear-gradient(180deg, #c0c0c0 0%, #808080 100%);
            border: 1px inset #c0c0c0;
            padding: 8px 12px;
            font-size: 12px;
            color: #000;
        }

        /* === ÍCONES DO DESKTOP === */
        .desktop-icons {
            position: absolute;
            top: 20px;
            left: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, 80px);
            gap: 20px;
        }

        .desktop-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
            transition: background 0.2s;
        }

        .desktop-icon:hover {
            background: rgba(255,255,255,0.1);
        }

        .icon-image {
            width: 48px;
            height: 48px;
            background: var(--dourado);
            border-radius: 8px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .icon-image img {
            width: 48px;
            height: 48px;
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
            border-radius: 8px;
        }

        .icon-label {
            font-size: 12px;
            text-align: center;
            color: var(--pergaminho);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
        }

        /* === JANELAS === */
        .window {
            position: absolute;
            background: #c0c0c0;
            border: 2px outset #c0c0c0;
            min-width: 300px;
            min-height: 200px;
            display: none;
            z-index: 1000;
        }

        .window.active {
            display: block;
        }

        .window-header {
            background: linear-gradient(90deg, #0000ff, #000080);
            color: white;
            padding: 4px 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: move;
        }

        .window-title {
            font-weight: bold;
            font-size: 12px;
        }

        .window-controls {
            display: flex;
            gap: 2px;
        }

        .window-btn {
            width: 16px;
            height: 14px;
            background: #c0c0c0;
            border: 1px outset #c0c0c0;
            font-size: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .window-btn:active {
            border: 1px inset #c0c0c0;
        }

        .window-content {
            padding: 15px;
            background: #c0c0c0;
            color: #000;
        }

        /* === WIDGET ASTROMÁGICK === */
        .astromagick-widget {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 300px;
            background: rgba(11, 24, 54, 0.9);
            border: 2px solid var(--dourado);
            border-radius: 12px;
            padding: 15px;
            color: var(--pergaminho);
            backdrop-filter: blur(10px);
        }

        .widget-header {
            text-align: center;
            margin-bottom: 15px;
            color: var(--dourado);
            font-weight: bold;
        }

        .astro-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            font-size: 12px;
        }

        .astro-item {
            background: rgba(240, 170, 83, 0.1);
            padding: 8px;
            border-radius: 6px;
            border: 1px solid rgba(240, 170, 83, 0.3);
        }

        .astro-label {
            color: var(--verde);
            font-weight: bold;
            margin-bottom: 4px;
        }

        .astro-value {
            color: var(--pergaminho);
        }

        /* === AURORA PLAYER === */
        .aurora-player {
            width: 500px;
            height: 400px;
        }

        .player-header {
            background: linear-gradient(135deg, var(--vinho), var(--azul));
            color: var(--pergaminho);
            padding: 10px;
            text-align: center;
            font-weight: bold;
        }

        .player-content {
            background: #c0c0c0;
            padding: 0;
            height: calc(100% - 40px);
            display: flex;
            flex-direction: column;
        }

        .player-display {
            background: #000;
            color: var(--dourado);
            padding: 15px;
            text-align: center;
            font-family: 'Courier New', monospace;
            border-bottom: 2px inset #c0c0c0;
        }

        .track-info {
            font-size: 14px;
            margin-bottom: 5px;
        }

        .time-info {
            font-size: 12px;
            opacity: 0.8;
        }

        .player-controls {
            padding: 15px;
            display: flex;
            justify-content: center;
            gap: 10px;
            border-bottom: 2px inset #c0c0c0;
        }

        .control-btn {
            width: 40px;
            height: 30px;
            background: linear-gradient(180deg, #c0c0c0 0%, #808080 100%);
            border: 2px outset #c0c0c0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .control-btn:active {
            border: 2px inset #c0c0c0;
        }

        .volume-section {
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px inset #c0c0c0;
        }

        .volume-slider {
            flex: 1;
            height: 20px;
        }

        .playlist-section {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
        }

        .playlist-item {
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 3px;
            margin-bottom: 2px;
            font-size: 12px;
        }

        .playlist-item:hover {
            background: #e0e0e0;
        }

        .playlist-item.active {
            background: var(--azul);
            color: white;
        }

        .admin-section {
            padding: 10px;
            border-top: 2px inset #c0c0c0;
        }

        .admin-btn {
            background: linear-gradient(180deg, #c0c0c0 0%, #808080 100%);
            border: 2px outset #c0c0c0;
            padding: 5px 10px;
            cursor: pointer;
            margin-right: 5px;
            font-size: 11px;
        }

        .admin-btn:active {
            border: 2px inset #c0c0c0;
        }

        /* === WITCH.TV === */
        .witch-tv {
            width: 600px;
            height: 450px;
        }

        .tv-screen {
            background: #000;
            height: 250px;
            border: 3px inset #c0c0c0;
            margin: 10px;
            position: relative;
            overflow: hidden;
        }

        .tv-static {
            position: absolute;
            inset: 0;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(255,255,255,0.1) 2px,
                rgba(255,255,255,0.1) 4px
            );
            animation: static 0.1s infinite;
        }

        @keyframes static {
            0% { opacity: 0.8; }
            50% { opacity: 0.4; }
            100% { opacity: 0.8; }
        }

        .tv-content {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--pergaminho);
            font-size: 18px;
            text-align: center;
        }

        .channel-list {
            padding: 10px;
            max-height: 120px;
            overflow-y: auto;
        }

        .channel-item {
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 3px;
            margin-bottom: 2px;
            font-size: 12px;
            display: flex;
            justify-content: space-between;
        }

        .channel-item:hover {
            background: #e0e0e0;
        }

        .channel-item.active {
            background: var(--vinho);
            color: white;
        }

        /* === TARÔ === */
        .tarot-app {
            width: 500px;
            height: 400px;
        }

        .tarot-spread {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            padding: 20px;
            height: 200px;
        }

        .tarot-card {
            background: linear-gradient(135deg, var(--vinho), var(--azul));
            border: 2px solid var(--dourado);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--pergaminho);
            font-size: 24px;
            transition: transform 0.3s;
        }

        .tarot-card:hover {
            transform: scale(1.05);
        }

        .tarot-card.revealed {
            background: linear-gradient(135deg, var(--dourado), #ffd700);
            color: var(--azul);
        }

        .tarot-reading {
            padding: 15px;
            background: rgba(11, 24, 54, 0.1);
            border-radius: 8px;
            margin: 10px;
            font-size: 12px;
        }

        /* === LIVROS INTERATIVOS === */
        .books-app {
            width: 550px;
            height: 450px;
        }

        .book-shelf {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            padding: 15px;
            height: 200px;
        }

        .book-spine {
            background: linear-gradient(180deg, var(--vinho), var(--azul));
            border: 1px solid var(--dourado);
            border-radius: 4px;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            padding: 10px 5px;
            cursor: pointer;
            color: var(--pergaminho);
            font-size: 10px;
            text-align: center;
            transition: transform 0.2s;
        }

        .book-spine:hover {
            transform: translateY(-5px);
        }

        .book-content {
            padding: 15px;
            background: var(--pergaminho);
            color: var(--azul);
            border-radius: 8px;
            margin: 10px;
            height: 150px;
            overflow-y: auto;
            font-size: 12px;
            line-height: 1.4;
        }

        /* === AFAST! === */
        .afast-app {
            width: 450px;
            height: 350px;
        }

        .speech-area {
            background: #000;
            color: var(--verde);
            padding: 15px;
            margin: 10px;
            border-radius: 8px;
            height: 150px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-y: auto;
        }

        .speech-controls {
            padding: 15px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .speech-btn {
            background: linear-gradient(180deg, #c0c0c0 0%, #808080 100%);
            border: 2px outset #c0c0c0;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 12px;
        }

        .speech-btn:active {
            border: 2px inset #c0c0c0;
        }

        .speech-btn.recording {
            background: linear-gradient(180deg, #ff4444 0%, #cc0000 100%);
            color: white;
        }

        /* Estilos AstroMágick Preview */
        .astromagick-preview {
            padding: 20px;
            font-family: 'MS Sans Serif', sans-serif;
        }
        
        .astro-preview-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 20px 0;
            padding: 15px;
            background: linear-gradient(135deg, #f2eaff 0%, #e6d7ff 100%);
            border: 2px inset #c0c0c0;
            border-radius: 8px;
        }
        
        .astro-preview-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
            border: 1px outset #c0c0c0;
            border-radius: 4px;
            text-align: center;
        }
        
        .preview-icon {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .preview-label {
            font-size: 11px;
            color: #666;
            font-weight: bold;
            margin-bottom: 3px;
        }
        
        .preview-value {
            font-size: 13px;
            color: #3e0a29;
            font-weight: bold;
        }
        
        .astro-actions {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            justify-content: center;
        }
        
        .astro-btn {
            padding: 8px 16px;
            border: 2px outset #c0c0c0;
            background: linear-gradient(135deg, #f0f0f0 0%, #d0d0d0 100%);
            font-family: 'MS Sans Serif', sans-serif;
            font-size: 11px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 3px;
            transition: all 0.1s;
        }
        
        .astro-btn:hover {
            background: linear-gradient(135deg, #e0e0e0 0%, #c0c0c0 100%);
        }
        
        .astro-btn:active {
            border: 2px inset #c0c0c0;
        }
        
        .astro-btn.primary {
            background: linear-gradient(135deg, #f0aa53 0%, #e09040 100%);
            color: white;
            text-shadow: 1px 1px 1px rgba(0,0,0,0.3);
        }
        
        .astro-btn.primary:hover {
            background: linear-gradient(135deg, #e09040 0%, #d08030 100%);
        }
        
        .astro-features {
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #b2d1b1 0%, #a0c0a0 100%);
            border: 2px inset #c0c0c0;
            border-radius: 8px;
        }
        
        .astro-features h4 {
            margin: 0 0 10px 0;
            color: #0b1836;
            font-size: 12px;
        }
        
        .astro-features ul {
            margin: 0;
            padding-left: 20px;
            font-size: 11px;
            color: #0b1836;
        }
        
        /* Estilos para notificações */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #f0aa53 0%, #e09040 100%);
            color: white;
            padding: 15px 20px;
            border: 2px outset #c0c0c0;
            border-radius: 8px;
            font-family: 'MS Sans Serif', sans-serif;
            font-size: 12px;
            font-weight: bold;
            box-shadow: 4px 4px 8px rgba(0,0,0,0.3);
            z-index: 10000;
            animation: slideIn 0.3s ease-out;
            max-width: 300px;
        }
        
        .notification.success {
            background: linear-gradient(135deg, #b2d1b1 0%, #a0c0a0 100%);
            color: #0b1836;
        }
        
        .notification.error {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
            color: white;
        }
        
        .notification.info {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }
        
        .notification.hiding {
            animation: slideOut 0.3s ease-in;
        }

        .astro-features li {
            margin-bottom: 5px;
        }

        /* === ASTROMAGICK EXPANDIDO === */
        .astro-tabs {
            display: flex;
            border-bottom: 2px solid var(--vinho);
            margin-bottom: 15px;
            background: linear-gradient(135deg, var(--azul) 0%, var(--vinho) 100%);
            border-radius: 8px 8px 0 0;
            overflow: hidden;
        }

        .astro-tab {
            flex: 1;
            padding: 10px 15px;
            background: transparent;
            border: none;
            color: var(--pergaminho);
            font-family: 'MS Sans Serif', sans-serif;
            font-size: 11px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            border-right: 1px solid rgba(255,255,255,0.2);
        }

        .astro-tab:last-child {
            border-right: none;
        }

        .astro-tab:hover {
            background: rgba(255,255,255,0.1);
            transform: translateY(-2px);
        }

        .astro-tab.active {
            background: linear-gradient(135deg, var(--dourado) 0%, var(--verde) 100%);
            color: var(--azul);
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        }

        .astro-tab-content {
            display: none;
            animation: fadeIn 0.3s ease-in;
        }

        .astro-tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Posições Planetárias */
        .planets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }

        .planet-card {
            background: linear-gradient(135deg, var(--azul) 0%, var(--vinho) 100%);
            border: 2px outset #c0c0c0;
            border-radius: 8px;
            padding: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: transform 0.2s ease;
        }

        .planet-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .planet-symbol {
            font-size: 24px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--dourado) 0%, var(--verde) 100%);
            border-radius: 50%;
            color: var(--azul);
            font-weight: bold;
        }

        .planet-info strong {
            display: block;
            color: var(--dourado);
            font-size: 12px;
            margin-bottom: 4px;
        }

        .planet-info div {
            color: var(--pergaminho);
            font-size: 11px;
        }

        /* Informações Lunares */
        .lunar-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .lunar-card {
            background: linear-gradient(135deg, var(--vinho) 0%, var(--azul) 100%);
            border: 2px outset #c0c0c0;
            border-radius: 8px;
            padding: 15px;
        }

        .lunar-card h4 {
            color: var(--dourado);
            margin-bottom: 10px;
            font-size: 12px;
        }

        .lunar-phase {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .moon-icon {
            font-size: 32px;
        }

        #next-phases div {
            margin-bottom: 5px;
            font-size: 11px;
            color: var(--pergaminho);
        }

        /* Trânsitos */
        .transits-list, .aspects-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .transit-item, .aspect-item {
            background: linear-gradient(135deg, var(--azul) 0%, var(--vinho) 100%);
            border: 2px outset #c0c0c0;
            border-radius: 8px;
            padding: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .transit-icon, .aspect-symbol {
            font-size: 20px;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--dourado) 0%, var(--verde) 100%);
            border-radius: 50%;
            color: var(--azul);
            font-weight: bold;
        }

        .transit-info, .aspect-info {
            flex: 1;
        }

        .transit-info strong, .aspect-info strong {
            display: block;
            color: var(--dourado);
            font-size: 12px;
            margin-bottom: 4px;
        }

        .transit-info div, .aspect-info div {
            color: var(--pergaminho);
            font-size: 11px;
        }

        .transit-level {
            font-size: 16px;
        }

        /* Aspectos */
        .aspect-item.harmonious {
            border-left: 4px solid var(--verde);
        }

        .aspect-item.tense {
            border-left: 4px solid #ff6b6b;
        }

        .aspect-item.neutral {
            border-left: 4px solid var(--dourado);
        }

        /* Alertas */
        .alerts-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }

        .alert-item {
            background: linear-gradient(135deg, var(--azul) 0%, var(--vinho) 100%);
            border: 2px outset #c0c0c0;
            border-radius: 8px;
            padding: 12px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .alert-item.critical {
            border-left: 4px solid #ff4757;
            background: linear-gradient(135deg, #ff4757 0%, #c44569 100%);
        }

        .alert-item.warning {
            border-left: 4px solid #ffa502;
            background: linear-gradient(135deg, #ffa502 0%, #ff6348 100%);
        }

        .alert-item.info {
            border-left: 4px solid var(--verde);
        }

        .alert-icon {
            font-size: 18px;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .alert-info strong {
            display: block;
            color: var(--pergaminho);
            font-size: 12px;
            margin-bottom: 4px;
        }

        .alert-info div {
            color: var(--pergaminho);
            font-size: 11px;
            opacity: 0.9;
        }

        .alert-settings {
            background: linear-gradient(135deg, var(--vinho) 0%, var(--azul) 100%);
            border: 2px inset #c0c0c0;
            border-radius: 8px;
            padding: 15px;
        }

        .alert-settings h4 {
            color: var(--dourado);
            margin-bottom: 10px;
            font-size: 12px;
        }

        .alert-settings label {
            display: block;
            margin-bottom: 8px;
            color: var(--pergaminho);
            font-size: 11px;
            cursor: pointer;
        }

        .alert-settings input[type="checkbox"] {
            margin-right: 8px;
        }

        /* Footer */
        .astro-footer {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 2px solid var(--vinho);
        }

        .astro-full-btn, .astro-refresh-btn {
            flex: 1;
            padding: 12px 20px;
            border: 2px outset #c0c0c0;
            border-radius: 6px;
            font-family: 'MS Sans Serif', sans-serif;
            font-size: 11px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .astro-full-btn {
            background: linear-gradient(135deg, var(--dourado) 0%, var(--verde) 100%);
            color: var(--azul);
        }

        .astro-refresh-btn {
            background: linear-gradient(135deg, var(--azul) 0%, var(--vinho) 100%);
            color: var(--pergaminho);
        }

        .astro-full-btn:hover, .astro-refresh-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .astro-full-btn:active, .astro-refresh-btn:active {
            transform: translateY(0);
            border: 2px inset #c0c0c0;
        }
    </style>
</head>
<body>
    <!-- Tela de Boot -->
    <div class="boot-screen" id="boot-screen">
        <div class="boot-logo">🌟</div>
        <div class="boot-title">MysticSoft v1.0</div>
        <div class="boot-progress">
            <div class="boot-progress-fill" id="boot-progress"></div>
        </div>
        <div class="boot-hint">Clique para iniciar a conjuração...</div>
    </div>

    <!-- Desktop -->
    <div class="desktop" id="desktop">
        <!-- Ícones do Desktop -->
        <div class="desktop-icons">
            <div class="desktop-icon" data-app="astromagick">
                <div class="icon-image"><img src="icons/Astromágick.png" alt="AstroMágick" style="width: 48px; height: 48px;"></div>
                <div class="icon-label">AstroMágick</div>
            </div>
            <div class="desktop-icon" data-app="aurora-player">
                <div class="icon-image">🎵</div>
                <div class="icon-label">Aurora Player</div>
            </div>
            <div class="desktop-icon" data-app="witch-tv">
                <div class="icon-image"><img src="icons/Witch-TV.png" alt="Witch.TV" style="width: 48px; height: 48px;"></div>
                <div class="icon-label">Witch.TV</div>
            </div>
            <div class="desktop-icon" data-app="afast">
                <div class="icon-image"><img src="icons/afast.png" alt="AFAST!" style="width: 48px; height: 48px;"></div>
                <div class="icon-label">AFAST!</div>
            </div>
            <div class="desktop-icon" data-app="tarot">
                <div class="icon-image">🔮</div>
                <div class="icon-label">Tarô</div>
            </div>
            <div class="desktop-icon" data-app="books">
                <div class="icon-image"><img src="icons/Livros-interativos.png" alt="Livros Interativos" style="width: 48px; height: 48px;"></div>
                <div class="icon-label">Livros Interativos</div>
            </div>
        </div>

        <!-- Widget AstroMágick removido - agora é um ícone clicável -->

        <!-- Barra de Tarefas -->
        <div class="taskbar">
            <div class="start-button" id="start-button">Iniciar</div>
            <div class="clock" id="clock">00:00</div>
            
            <!-- Menu Iniciar -->
            <div class="start-menu" id="start-menu">
                <div class="start-menu-header">
                    🌟 Aurora OS • MysticSoft
                </div>
                <div class="start-menu-items">
                    <div class="start-menu-item" data-app="astromagick">
                        <div class="start-menu-icon">🌙</div>
                        <span>AstroMágick</span>
                    </div>
                    <div class="start-menu-item" data-app="aurora-player">
                        <div class="start-menu-icon">🎵</div>
                        <span>Aurora Player</span>
                    </div>
                    <div class="start-menu-item" data-app="witch-tv">
                        <div class="start-menu-icon">📺</div>
                        <span>Witch.TV</span>
                    </div>
                    <div class="start-menu-item" data-app="afast">
                        <div class="start-menu-icon">🗣️</div>
                        <span>AFAST!</span>
                    </div>
                    <div class="start-menu-item" data-app="tarot">
                        <div class="start-menu-icon">🔮</div>
                        <span>Tarô Místico</span>
                    </div>
                    <div class="start-menu-item" data-app="books">
                        <div class="start-menu-icon">📚</div>
                        <span>Livros Interativos</span>
                    </div>
                    <div class="start-menu-separator"></div>
                    <div class="start-menu-item" onclick="location.reload()">
                        <div class="start-menu-icon">🔄</div>
                        <span>Reiniciar Sistema</span>
                    </div>
                    <div class="start-menu-item" onclick="window.close()">
                        <div class="start-menu-icon">⚡</div>
                        <span>Desligar</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Janela AstroMágick -->
    <div class="window" id="astromagick-window">
        <div class="window-header">
            <span class="window-title">🌙 AstroMágick - Portal Astrológico Completo</span>
            <div class="window-controls">
                <button class="window-btn" onclick="minimizeWindow('astromagick-window')">_</button>
                <button class="window-btn" onclick="closeWindow('astromagick-window')">×</button>
            </div>
        </div>
        <div class="window-content">
            <!-- Abas de navegação -->
            <div class="astro-tabs">
                <button class="astro-tab active" onclick="showAstroTab('positions')">📊 Posições</button>
                <button class="astro-tab" onclick="showAstroTab('lunar')">🌙 Lunar</button>
                <button class="astro-tab" onclick="showAstroTab('transits')">⚡ Trânsitos</button>
                <button class="astro-tab" onclick="showAstroTab('aspects')">🔮 Aspectos</button>
                <button class="astro-tab" onclick="showAstroTab('alerts')">🚨 Alertas</button>
            </div>

            <!-- Conteúdo das abas -->
            <div id="astro-tab-positions" class="astro-tab-content active">
                <h3>📊 Posições Planetárias Atuais</h3>
                <div class="planets-grid">
                    <div class="planet-card">
                        <div class="planet-symbol">☉</div>
                        <div class="planet-info">
                            <strong>Sol</strong>
                            <div id="sun-position">♍ Virgem 18°</div>
                        </div>
                    </div>
                    <div class="planet-card">
                        <div class="planet-symbol">☽</div>
                        <div class="planet-info">
                            <strong>Lua</strong>
                            <div id="moon-position">♓ Peixes 12°</div>
                        </div>
                    </div>
                    <div class="planet-card">
                        <div class="planet-symbol">☿</div>
                        <div class="planet-info">
                            <strong>Mercúrio</strong>
                            <div id="mercury-position">♍ Virgem 25°</div>
                        </div>
                    </div>
                    <div class="planet-card">
                        <div class="planet-symbol">♀</div>
                        <div class="planet-info">
                            <strong>Vênus</strong>
                            <div id="venus-position">♎ Libra 3°</div>
                        </div>
                    </div>
                    <div class="planet-card">
                        <div class="planet-symbol">♂</div>
                        <div class="planet-info">
                            <strong>Marte</strong>
                            <div id="mars-position">♋ Câncer 28°</div>
                        </div>
                    </div>
                    <div class="planet-card">
                        <div class="planet-symbol">♃</div>
                        <div class="planet-info">
                            <strong>Júpiter</strong>
                            <div id="jupiter-position">♊ Gêmeos 15°</div>
                        </div>
                    </div>
                    <div class="planet-card">
                        <div class="planet-symbol">♄</div>
                        <div class="planet-info">
                            <strong>Saturno</strong>
                            <div id="saturn-position">♓ Peixes 19°</div>
                        </div>
                    </div>
                    <div class="planet-card">
                        <div class="planet-symbol">♅</div>
                        <div class="planet-info">
                            <strong>Urano</strong>
                            <div id="uranus-position">♉ Touro 27°</div>
                        </div>
                    </div>
                    <div class="planet-card">
                        <div class="planet-symbol">♆</div>
                        <div class="planet-info">
                            <strong>Netuno</strong>
                            <div id="neptune-position">♓ Peixes 29°</div>
                        </div>
                    </div>
                    <div class="planet-card">
                        <div class="planet-symbol">♇</div>
                        <div class="planet-info">
                            <strong>Plutão</strong>
                            <div id="pluto-position">♑ Capricórnio 29°</div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="astro-tab-lunar" class="astro-tab-content">
                <h3>🌙 Informações Lunares Detalhadas</h3>
                <div class="lunar-info">
                    <div class="lunar-card">
                        <h4>Fase Atual</h4>
                        <div class="lunar-phase">
                            <span class="moon-icon" id="moon-phase-icon">🌖</span>
                            <div>
                                <strong id="moon-phase-name">Gibosa Minguante</strong>
                                <div id="moon-illumination">87% iluminada</div>
                            </div>
                        </div>
                    </div>
                    <div class="lunar-card">
                        <h4>Próximas Fases</h4>
                        <div id="next-phases">
                            <div>🌗 Quarto Minguante: 15/09 às 22:33</div>
                            <div>🌑 Lua Nova: 29/09 às 20:53</div>
                            <div>🌓 Quarto Crescente: 06/10 às 15:47</div>
                            <div>🌕 Lua Cheia: 14/10 às 18:08</div>
                        </div>
                    </div>
                    <div class="lunar-card">
                        <h4>Energia Lunar</h4>
                        <div id="lunar-energy">
                            <strong>Liberação e Purificação</strong>
                            <p>Momento ideal para soltar o que não serve mais e fazer limpezas energéticas.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="astro-tab-transits" class="astro-tab-content">
                <h3>⚡ Trânsitos Importantes</h3>
                <div class="transits-list">
                    <div class="transit-item high">
                        <span class="transit-icon">☿</span>
                        <div class="transit-info">
                            <strong>Mercúrio em Virgem</strong>
                            <div>Comunicação precisa e detalhista até 26/09</div>
                        </div>
                        <span class="transit-level">🟢</span>
                    </div>
                    <div class="transit-item medium">
                        <span class="transit-icon">♀</span>
                        <div class="transit-info">
                            <strong>Vênus entrando em Libra</strong>
                            <div>Harmonia nos relacionamentos - 11/09 a 07/10</div>
                        </div>
                        <span class="transit-level">🟡</span>
                    </div>
                    <div class="transit-item low">
                        <span class="transit-icon">♂</span>
                        <div class="transit-info">
                            <strong>Marte em Câncer</strong>
                            <div>Energia emocional e proteção familiar</div>
                        </div>
                        <span class="transit-level">🟢</span>
                    </div>
                </div>
            </div>

            <div id="astro-tab-aspects" class="astro-tab-content">
                <h3>🔮 Aspectos Astrológicos</h3>
                <div class="aspects-list">
                    <div class="aspect-item harmonious">
                        <span class="aspect-symbol">△</span>
                        <div class="aspect-info">
                            <strong>Sol trígono Júpiter</strong>
                            <div>Otimismo e expansão - Energia positiva</div>
                        </div>
                    </div>
                    <div class="aspect-item tense">
                        <span class="aspect-symbol">□</span>
                        <div class="aspect-info">
                            <strong>Marte quadratura Saturno</strong>
                            <div>Tensão entre ação e disciplina</div>
                        </div>
                    </div>
                    <div class="aspect-item neutral">
                        <span class="aspect-symbol">⚹</span>
                        <div class="aspect-info">
                            <strong>Vênus sextil Netuno</strong>
                            <div>Inspiração artística e romântica</div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="astro-tab-alerts" class="astro-tab-content">
                <h3>🚨 Sistema de Alertas Astrológicos</h3>
                <div class="alerts-container">
                    <div class="alert-item critical">
                        <span class="alert-icon">🔴</span>
                        <div class="alert-info">
                            <strong>ECLIPSE LUNAR</strong>
                            <div>Próximo eclipse em 28/09 - Prepare-se para mudanças</div>
                        </div>
                    </div>
                    <div class="alert-item warning">
                        <span class="alert-icon">🟡</span>
                        <div class="alert-info">
                            <strong>MERCÚRIO RETRÓGRADO</strong>
                            <div>Aproximando-se em 04/10 - Cuidado com comunicações</div>
                        </div>
                    </div>
                    <div class="alert-item info">
                        <span class="alert-icon">🟢</span>
                        <div class="alert-info">
                            <strong>LUA CHEIA FAVORÁVEL</strong>
                            <div>14/10 em Áries - Energia para novos projetos</div>
                        </div>
                    </div>
                </div>
                <div class="alert-settings">
                    <h4>⚙️ Configurações de Alerta</h4>
                    <label><input type="checkbox" checked> Notificações AFAST!</label>
                    <label><input type="checkbox" checked> Alertas de Retrogradação</label>
                    <label><input type="checkbox" checked> Eclipses e Eventos Raros</label>
                    <label><input type="checkbox"> Aspectos Diários</label>
                </div>
            </div>

            <!-- Botão para aplicação completa -->
            <div class="astro-footer">
                <button class="astro-full-btn" onclick="openFullAstroApp()">
                    🔮 Abrir Aplicação Completa
                </button>
                <button class="astro-refresh-btn" onclick="refreshAstroData()">
                    🔄 Atualizar Dados
                </button>
            </div>
        </div>
    </div>

    <!-- Janela Aurora Player -->
    <div class="window aurora-player" id="aurora-player-window">
        <div class="window-header">
            <span class="window-title">🎵 Aurora Player - Reprodutor Místico</span>
            <div class="window-controls">
                <button class="window-btn" onclick="minimizeWindow('aurora-player-window')">_</button>
                <button class="window-btn" onclick="closeWindow('aurora-player-window')">×</button>
            </div>
        </div>
        <div class="player-content">
            <!-- Display do Player -->
            <div class="player-display">
                <div class="track-info" id="current-track">♪ Aurora Sagrada - Moonlight Serenade ♪</div>
                <div class="time-info" id="track-time">00:00 / 03:45</div>
            </div>

            <!-- Controles -->
            <div class="player-controls">
                <button class="control-btn" id="prev-btn" onclick="auroraPlayer.previousTrack()">⏮</button>
                <button class="control-btn" id="play-btn" onclick="auroraPlayer.togglePlay()">▶</button>
                <button class="control-btn" id="next-btn" onclick="auroraPlayer.nextTrack()">⏭</button>
                <button class="control-btn" id="shuffle-btn" onclick="auroraPlayer.toggleShuffle()">🔀</button>
                <button class="control-btn" id="repeat-btn" onclick="auroraPlayer.toggleRepeat()">🔁</button>
            </div>

            <!-- Volume -->
            <div class="volume-section">
                <span>🔊</span>
                <input type="range" class="volume-slider" id="volume-slider" min="0" max="100" value="75">
                <span id="volume-display">75%</span>
            </div>

            <!-- Playlist -->
            <div class="playlist-section">
                <h4 style="margin: 0 0 10px 0; font-size: 12px;">📜 Playlist Mística</h4>
                <div id="playlist-container">
                    <div class="playlist-item active" data-track="0">🌙 Moonlight Serenade - Aurora Sagrada</div>
                    <div class="playlist-item" data-track="1">⭐ Stellar Dreams - Aurora Sagrada</div>
                    <div class="playlist-item" data-track="2">💎 Crystal Meditation - Aurora Sagrada</div>
                    <div class="playlist-item" data-track="3">🌲 Forest Whispers - Aurora Sagrada</div>
                    <div class="playlist-item" data-track="4">🌌 Cosmic Dance - Aurora Sagrada</div>
                    <div class="playlist-item" data-track="5">🔥 Phoenix Rising - Aurora Sagrada</div>
                </div>
            </div>

            <!-- Painel Administrativo -->
            <div class="admin-section">
                <h4 style="margin: 0 0 10px 0; font-size: 12px;">🔧 Painel Administrativo</h4>
                <button class="admin-btn" onclick="auroraPlayer.addTrack()">➕ Adicionar</button>
                <button class="admin-btn" onclick="auroraPlayer.removeTrack()">➖ Remover</button>
                <button class="admin-btn" onclick="auroraPlayer.editPlaylist()">✏️ Editar</button>
                <button class="admin-btn" onclick="auroraPlayer.savePlaylist()">💾 Salvar</button>
            </div>
        </div>
    </div>

    <!-- Janela Witch.TV -->
    <div class="window witch-tv" id="witch-tv-window">
        <div class="window-header">
            <span class="window-title">📺 Witch.TV - Streaming Místico</span>
            <div class="window-controls">
                <button class="window-btn" onclick="minimizeWindow('witch-tv-window')">_</button>
                <button class="window-btn" onclick="closeWindow('witch-tv-window')">×</button>
            </div>
        </div>
        <div class="window-content">
            <div class="tv-screen" id="tv-screen">
                <div class="tv-static"></div>
                <div class="tv-content" id="tv-content">
                    🌙 Canal Lunar - Meditações Noturnas 🌙
                </div>
            </div>
            <div class="channel-list">
                <h4 style="margin: 0 0 10px 0; font-size: 12px;">📡 Canais Místicos</h4>
                <div class="channel-item active" data-channel="0">
                    <span>🌙 Canal Lunar</span>
                    <span>AO VIVO</span>
                </div>
                <div class="channel-item" data-channel="1">
                    <span>🔮 Oráculos & Profecias</span>
                    <span>24h</span>
                </div>
                <div class="channel-item" data-channel="2">
                    <span>🌿 Herbalismo Sagrado</span>
                    <span>HD</span>
                </div>
                <div class="channel-item" data-channel="3">
                    <span>⭐ Astrologia Avançada</span>
                    <span>PREMIUM</span>
                </div>
                <div class="channel-item" data-channel="4">
                    <span>🧙‍♀️ Escola de Magia</span>
                    <span>NOVO</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Janela Tarô -->
    <div class="window tarot-app" id="tarot-window">
        <div class="window-header">
            <span class="window-title">🔮 Tarô Místico - Consulta das Cartas</span>
            <div class="window-controls">
                <button class="window-btn" onclick="minimizeWindow('tarot-window')">_</button>
                <button class="window-btn" onclick="closeWindow('tarot-window')">×</button>
            </div>
        </div>
        <div class="window-content">
            <div class="tarot-spread" id="tarot-spread">
                <div class="tarot-card" data-card="0">🂠</div>
                <div class="tarot-card" data-card="1">🂠</div>
                <div class="tarot-card" data-card="2">🂠</div>
            </div>
            <div class="tarot-reading" id="tarot-reading">
                <h4>🔮 Consulta de Três Cartas</h4>
                <p>Clique nas cartas para revelar sua leitura sobre Passado, Presente e Futuro.</p>
                <p><strong>Concentre-se em sua pergunta...</strong></p>
            </div>
        </div>
    </div>

    <!-- Janela Livros Interativos -->
    <div class="window books-app" id="books-window">
        <div class="window-header">
            <span class="window-title">📚 Biblioteca Mística - Livros Interativos</span>
            <div class="window-controls">
                <button class="window-btn" onclick="minimizeWindow('books-window')">_</button>
                <button class="window-btn" onclick="closeWindow('books-window')">×</button>
            </div>
        </div>
        <div class="window-content">
            <div class="book-shelf">
                <div class="book-spine" data-book="0">Grimório das Sombras</div>
                <div class="book-spine" data-book="1">Herbário Sagrado</div>
                <div class="book-spine" data-book="2">Cristais & Energias</div>
                <div class="book-spine" data-book="3">Rituais Lunares</div>
                <div class="book-spine" data-book="4">Alquimia Moderna</div>
                <div class="book-spine" data-book="5">Runas Antigas</div>
                <div class="book-spine" data-book="6">Chakras & Auras</div>
                <div class="book-spine" data-book="7">Magia Elemental</div>
            </div>
            <div class="book-content" id="book-content">
                <h4>📖 Biblioteca Mística</h4>
                <p>Bem-vindo à biblioteca de conhecimentos esotéricos!</p>
                <p>Clique em qualquer livro da estante para começar sua jornada de aprendizado místico.</p>
                <p><em>Cada livro contém sabedoria ancestral e práticas modernas.</em></p>
            </div>
        </div>
    </div>

    <!-- Janela AFAST! -->
    <div class="window afast-app" id="afast-window">
        <div class="window-header">
            <span class="window-title">🗣️ AFAST! - Assistente de Fala Avançado</span>
            <div class="window-controls">
                <button class="window-btn" onclick="minimizeWindow('afast-window')">_</button>
                <button class="window-btn" onclick="closeWindow('afast-window')">×</button>
            </div>
        </div>
        <div class="window-content">
            <div class="speech-area" id="speech-area">
                > AFAST! v2.0 - Sistema de Reconhecimento de Voz Iniciado
                > Aguardando comando de voz...
                > Digite 'help' para ver comandos disponíveis
            </div>
            <div class="speech-controls">
                <button class="speech-btn" id="record-btn" onclick="afastApp.toggleRecording()">🎤 Gravar</button>
                <button class="speech-btn" onclick="afastApp.playback()">🔊 Reproduzir</button>
                <button class="speech-btn" onclick="afastApp.clearLog()">🗑️ Limpar</button>
                <button class="speech-btn" onclick="afastApp.showHelp()">❓ Ajuda</button>
            </div>
        </div>
    </div>

    <script src="efemerides-aurora-v2.js"></script>
    <script>
        // === SISTEMA PRINCIPAL ===
        class AuroraOS {
            constructor() {
                this.currentWindow = null;
                this.windowZIndex = 1000;
                this.audioContext = null;
                this.sounds = {};
                this.initAudio();
                this.initSounds();
            }

            initAudio() {
                try {
                    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    console.log('🔊 Sistema de áudio inicializado');
                } catch (error) {
                    console.warn('⚠️ Áudio não suportado:', error);
                }
            }

            initSounds() {
                // Criar sons sintéticos para o sistema
                this.sounds = {
                    click: this.createTone(800, 0.1, 'square'),
                    notification: this.createTone(600, 0.3, 'sine'),
                    error: this.createTone(300, 0.5, 'sawtooth'),
                    success: this.createTone(1000, 0.4, 'sine'),
                    startup: this.createStartupSound(),
                    recording: this.createTone(440, 0.2, 'triangle'),
                    playback: this.createTone(660, 0.3, 'sine')
                };
            }

            createTone(frequency, duration, waveType = 'sine') {
                if (!this.audioContext) return null;
                
                return () => {
                    const oscillator = this.audioContext.createOscillator();
                    const gainNode = this.audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(this.audioContext.destination);
                    
                    oscillator.frequency.setValueAtTime(frequency, this.audioContext.currentTime);
                    oscillator.type = waveType;
                    
                    gainNode.gain.setValueAtTime(0.1, this.audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + duration);
                    
                    oscillator.start(this.audioContext.currentTime);
                    oscillator.stop(this.audioContext.currentTime + duration);
                };
            }

            createStartupSound() {
                if (!this.audioContext) return null;
                
                return () => {
                    const frequencies = [440, 554, 659, 880];
                    frequencies.forEach((freq, index) => {
                        setTimeout(() => {
                            const oscillator = this.audioContext.createOscillator();
                            const gainNode = this.audioContext.createGain();
                            
                            oscillator.connect(gainNode);
                            gainNode.connect(this.audioContext.destination);
                            
                            oscillator.frequency.setValueAtTime(freq, this.audioContext.currentTime);
                            oscillator.type = 'sine';
                            
                            gainNode.gain.setValueAtTime(0.1, this.audioContext.currentTime);
                            gainNode.gain.exponentialRampToValueAtTime(0.01, this.audioContext.currentTime + 0.3);
                            
                            oscillator.start(this.audioContext.currentTime);
                            oscillator.stop(this.audioContext.currentTime + 0.3);
                        }, index * 200);
                    });
                };
            }

            playSound(soundName) {
                if (this.sounds[soundName]) {
                    try {
                        this.sounds[soundName]();
                    } catch (error) {
                        console.warn('⚠️ Erro ao reproduzir som:', error);
                    }
                }
            }

            showNotification(message, type = 'info', duration = 3000) {
                // Criar elemento de notificação
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.textContent = message;
                
                // Adicionar ao DOM
                document.body.appendChild(notification);
                
                // Reproduzir som baseado no tipo
                switch (type) {
                    case 'success':
                        this.playSound('success');
                        break;
                    case 'error':
                        this.playSound('error');
                        break;
                    default:
                        this.playSound('notification');
                }
                
                // Remover após duração especificada
                setTimeout(() => {
                    notification.classList.add('hiding');
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, duration);
            }

            init() {
                this.setupEventListeners();
                this.updateClock();
                this.updateAstroInfo();
                setInterval(() => this.updateClock(), 1000);
            }

            setupEventListeners() {
                // Boot screen
                document.getElementById('boot-screen').addEventListener('click', () => this.startBoot());
                
                // Desktop icons
                document.querySelectorAll('.desktop-icon').forEach(icon => {
                    icon.addEventListener('dblclick', (e) => {
                        const app = e.currentTarget.dataset.app;
                        this.openApp(app);
                    });
                });

                // Botão Iniciar
                document.getElementById('start-button').addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.toggleStartMenu();
                });

                // Menu Iniciar - itens de aplicação
                document.querySelectorAll('.start-menu-item[data-app]').forEach(item => {
                    item.addEventListener('click', (e) => {
                        const app = e.currentTarget.dataset.app;
                        this.openApp(app);
                        this.hideStartMenu();
                    });
                });

                // Fechar menu ao clicar fora
                document.addEventListener('click', () => {
                    this.hideStartMenu();
                });

                // Inicializar relógio
                this.updateClock();
                setInterval(() => this.updateClock(), 1000);
            }

            toggleStartMenu() {
                const startMenu = document.getElementById('start-menu');
                const startButton = document.getElementById('start-button');
                
                if (startMenu.classList.contains('active')) {
                    this.hideStartMenu();
                } else {
                    this.showStartMenu();
                }
            }

            showStartMenu() {
                const startMenu = document.getElementById('start-menu');
                const startButton = document.getElementById('start-button');
                
                startMenu.classList.add('active');
                startButton.classList.add('active');
            }

            hideStartMenu() {
                const startMenu = document.getElementById('start-menu');
                const startButton = document.getElementById('start-button');
                
                startMenu.classList.remove('active');
                startButton.classList.remove('active');
            }

            updateClock() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('pt-BR', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                const clockElement = document.getElementById('clock');
                if (clockElement) {
                    clockElement.textContent = timeString;
                }
            }

            startBoot() {
                const bootScreen = document.getElementById('boot-screen');
                const desktop = document.getElementById('desktop');
                const progressFill = document.getElementById('boot-progress');
                
                let progress = 0;
                const bootInterval = setInterval(() => {
                    progress += Math.random() * 20;
                    progressFill.style.width = Math.min(progress, 100) + '%';
                    
                    if (progress >= 100) {
                        clearInterval(bootInterval);
                        setTimeout(() => {
                            bootScreen.style.display = 'none';
                            desktop.classList.add('active');
                        }, 500);
                    }
                }, 200);
            }

            updateClock() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('pt-BR', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                document.getElementById('clock').textContent = timeString;
            }

            updateAstroInfo() {
                const now = new Date();
                
                // Data atual
                document.getElementById('current-date').textContent = 
                    now.toLocaleDateString('pt-BR');
                
                // Valores corretos para hoje (10/09/2025)
                document.getElementById('current-sign').textContent = 'Virgem';
                document.getElementById('lunar-phase').textContent = 'Gibosa Minguante';
                document.getElementById('goddess-day').textContent = 'Freya';
                
                console.log('🌟 Widget AstroMágick atualizado com sucesso!');
            }

            // Funções específicas do AstroMágick
            openFullAstroMagick() {
                // Simula abertura de nova página/aba para ferramenta completa
                const confirmed = confirm('🔮 Deseja acessar a ferramenta AstroMágick completa?\n\nIsso abrirá uma nova página com todas as funcionalidades avançadas.');
                if (confirmed) {
                    // Aqui você pode colocar o link para sua ferramenta completa
                    alert('🌟 Redirecionando para AstroMágick Completo...\n\n(Em desenvolvimento - aqui seria o link para sua ferramenta completa)');
                    // window.open('https://seusite.com/astromagick-completo', '_blank');
                }
            }

            refreshAstroData() {
                // Simula atualização dos dados astrológicos
                const loadingElements = ['preview-date', 'preview-sign', 'preview-moon', 'preview-goddess'];
                
                loadingElements.forEach(id => {
                    const element = document.getElementById(id);
                    if (element) {
                        element.textContent = 'Atualizando...';
                    }
                });

                setTimeout(() => {
                    const now = new Date();
                    document.getElementById('preview-date').textContent = now.toLocaleDateString('pt-BR');
                    document.getElementById('preview-sign').textContent = 'Virgem';
                    document.getElementById('preview-moon').textContent = 'Gibosa Minguante';
                    document.getElementById('preview-goddess').textContent = 'Freya';
                    
                    alert('✨ Dados astrológicos atualizados com sucesso!');
                }, 1500);
            }

            getSolarSign(date) {
                const month = date.getMonth() + 1;
                const day = date.getDate();
                
                const signs = [
                    'Capricórnio', 'Aquário', 'Peixes', 'Áries', 'Touro', 'Gêmeos',
                    'Câncer', 'Leão', 'Virgem', 'Libra', 'Escorpião', 'Sagitário'
                ];
                
                // Simplificado - baseado no mês
                return signs[month - 1];
            }

            getLunarPhase(date) {
                // Usar Efemérides Aurora V2 para cálculo preciso da fase lunar
                if (typeof EfemeridesAurora !== 'undefined') {
                    const fase = EfemeridesAurora.calcularFaseLunar(date);
                    return fase.fase;
                }
                
                // Fallback para setembro de 2025 (dados astronômicos precisos)
                const year = date.getFullYear();
                const month = date.getMonth() + 1;
                const day = date.getDate();
                
                if (year === 2025 && month === 9) {
                    if (day >= 1 && day <= 6) {
                        return 'Crescente';
                    } else if (day === 7) {
                        return 'Cheia';
                    } else if (day >= 8 && day <= 14) {
                        return 'Gibosa Minguante';
                    } else if (day >= 15 && day <= 21) {
                        return 'Quarto Minguante';
                    } else if (day >= 22 && day <= 28) {
                        return 'Minguante';
                    } else if (day >= 29 && day <= 30) {
                        return 'Nova';
                    }
                }
                
                return 'Gibosa Minguante'; // Default para hoje
            }

            getGoddessOfDay(date) {
                const goddesses = [
                    'Brigid', 'Ísis', 'Hécate', 'Atena', 'Artemis', 'Afrodite',
                    'Perséfone', 'Deméter', 'Freya', 'Diana', 'Cerridwen', 'Kali'
                ];
                const month = date.getMonth();
                return goddesses[month];
            }

            openApp(appName) {
                this.playSound('click');
                
                // Nomes das aplicações para notificações
                const appNames = {
                    'astromagick': '🌙 AstroMágick',
                    'aurora-player': '🎵 Aurora Player',
                    'witch-tv': '📺 Witch.TV',
                    'afast': '🗣️ AFAST!',
                    'tarot': '🔮 Tarô Místico',
                    'livros': '📚 Biblioteca Mística'
                };
                
                switch(appName) {
                    case 'astromagick':
                        this.openWindow('astromagick-window');
                        this.loadDetailedAstroInfo();
                        break;
                    case 'aurora-player':
                        this.openWindow('aurora-player-window');
                        if (!window.auroraPlayer) {
                            window.auroraPlayer = new AuroraPlayer();
                        }
                        break;
                    case 'witch-tv':
                        this.openWindow('witch-tv-window');
                        if (!window.witchTV) {
                            window.witchTV = new WitchTV();
                        }
                        break;
                    case 'afast':
                        this.openWindow('afast-window');
                        if (!window.afast) {
                            window.afast = new AFAST();
                        }
                        break;
                    case 'tarot':
                        this.openWindow('tarot-window');
                        if (!window.tarot) {
                            window.tarot = new TarotMystic();
                        }
                        break;
                    case 'livros':
                        this.openWindow('livros-window');
                        if (!window.biblioteca) {
                            window.biblioteca = new BibliotecaMistica();
                        }
                        break;
                }
                
                // Mostrar notificação de sucesso
                this.showNotification(`${appNames[appName] || appName} iniciado com sucesso!`, 'success', 2000);
            }

            openWindow(windowId) {
                const window = document.getElementById(windowId);
                window.classList.add('active');
                window.style.zIndex = ++this.zIndex;
                
                // Posicionar janela
                window.style.left = '100px';
                window.style.top = '100px';
            }

            loadDetailedAstroInfo() {
                const content = document.getElementById('detailed-content');
                const now = new Date();
                
                content.innerHTML = `
                    <p><strong>Data:</strong> ${now.toLocaleDateString('pt-BR')}</p>
                    <p><strong>Signo Solar:</strong> ${this.getSolarSign(now)}</p>
                    <p><strong>Fase Lunar:</strong> ${this.getLunarPhase(now)}</p>
                    <p><strong>Deusa do Dia:</strong> ${this.getGoddessOfDay(now)}</p>
                    <br>
                    <p><strong>Energia do Dia:</strong> Transformação e renovação espiritual</p>
                    <p><strong>Cristais Recomendados:</strong> Ametista, Quartzo Rosa, Selenita</p>
                    <p><strong>Cores Místicas:</strong> Roxo, Dourado, Prateado</p>
                `;
            }
        }

        // === AURORA PLAYER ===
        class AuroraPlayer {
            constructor() {
                this.playlist = [
                    { title: "Moonlight Serenade", artist: "Aurora Sagrada", duration: "03:45" },
                    { title: "Stellar Dreams", artist: "Aurora Sagrada", duration: "04:12" },
                    { title: "Crystal Meditation", artist: "Aurora Sagrada", duration: "05:30" },
                    { title: "Forest Whispers", artist: "Aurora Sagrada", duration: "03:58" },
                    { title: "Cosmic Dance", artist: "Aurora Sagrada", duration: "04:25" },
                    { title: "Phoenix Rising", artist: "Aurora Sagrada", duration: "06:15" }
                ];
                this.currentTrack = 0;
                this.isPlaying = false;
                this.isShuffled = false;
                this.isRepeating = false;
                this.volume = 75;
                this.currentTime = 0;
                this.init();
            }

            init() {
                this.updateDisplay();
                this.setupEventListeners();
                this.startTimeSimulation();
            }

            setupEventListeners() {
                // Volume slider
                const volumeSlider = document.getElementById('volume-slider');
                if (volumeSlider) {
                    volumeSlider.addEventListener('input', (e) => {
                        this.volume = e.target.value;
                        document.getElementById('volume-display').textContent = this.volume + '%';
                    });
                }

                // Playlist items
                document.querySelectorAll('.playlist-item').forEach((item, index) => {
                    item.addEventListener('click', () => {
                        this.selectTrack(index);
                    });
                });
            }

            togglePlay() {
                this.isPlaying = !this.isPlaying;
                const playBtn = document.getElementById('play-btn');
                playBtn.textContent = this.isPlaying ? '⏸' : '▶';
                
                if (this.isPlaying) {
                    console.log('🎵 Reproduzindo:', this.playlist[this.currentTrack].title);
                } else {
                    console.log('⏸ Pausado');
                }
            }

            previousTrack() {
                this.currentTrack = this.currentTrack > 0 ? this.currentTrack - 1 : this.playlist.length - 1;
                this.updateDisplay();
                this.resetTime();
            }

            nextTrack() {
                if (this.isShuffled) {
                    this.currentTrack = Math.floor(Math.random() * this.playlist.length);
                } else {
                    this.currentTrack = (this.currentTrack + 1) % this.playlist.length;
                }
                this.updateDisplay();
                this.resetTime();
            }

            selectTrack(index) {
                this.currentTrack = index;
                this.updateDisplay();
                this.resetTime();
                
                // Atualizar playlist visual
                document.querySelectorAll('.playlist-item').forEach((item, i) => {
                    item.classList.toggle('active', i === index);
                });
            }

            toggleShuffle() {
                this.isShuffled = !this.isShuffled;
                const shuffleBtn = document.getElementById('shuffle-btn');
                shuffleBtn.style.background = this.isShuffled ? 
                    'linear-gradient(180deg, #ffff00 0%, #ffa500 100%)' : 
                    'linear-gradient(180deg, #c0c0c0 0%, #808080 100%)';
                console.log('🔀 Shuffle:', this.isShuffled ? 'Ativado' : 'Desativado');
            }

            toggleRepeat() {
                this.isRepeating = !this.isRepeating;
                const repeatBtn = document.getElementById('repeat-btn');
                repeatBtn.style.background = this.isRepeating ? 
                    'linear-gradient(180deg, #ffff00 0%, #ffa500 100%)' : 
                    'linear-gradient(180deg, #c0c0c0 0%, #808080 100%)';
                console.log('🔁 Repeat:', this.isRepeating ? 'Ativado' : 'Desativado');
            }

            updateDisplay() {
                const track = this.playlist[this.currentTrack];
                document.getElementById('current-track').textContent = 
                    `♪ ${track.artist} - ${track.title} ♪`;
            }

            resetTime() {
                this.currentTime = 0;
                this.updateTimeDisplay();
            }

            updateTimeDisplay() {
                const track = this.playlist[this.currentTrack];
                const currentMin = Math.floor(this.currentTime / 60);
                const currentSec = Math.floor(this.currentTime % 60);
                const timeString = `${currentMin.toString().padStart(2, '0')}:${currentSec.toString().padStart(2, '0')} / ${track.duration}`;
                document.getElementById('track-time').textContent = timeString;
            }

            startTimeSimulation() {
                setInterval(() => {
                    if (this.isPlaying) {
                        this.currentTime += 1;
                        this.updateTimeDisplay();
                        
                        // Simular fim da música
                        const trackDuration = this.playlist[this.currentTrack].duration.split(':');
                        const totalSeconds = parseInt(trackDuration[0]) * 60 + parseInt(trackDuration[1]);
                        
                        if (this.currentTime >= totalSeconds) {
                            if (this.isRepeating) {
                                this.resetTime();
                            } else {
                                this.nextTrack();
                            }
                        }
                    }
                }, 1000);
            }

            // Funções administrativas
            addTrack() {
                const title = prompt('Nome da música:');
                const artist = prompt('Artista:') || 'Aurora Sagrada';
                const duration = prompt('Duração (mm:ss):') || '04:00';
                
                if (title) {
                    this.playlist.push({ title, artist, duration });
                    this.refreshPlaylist();
                    alert('🎵 Música adicionada com sucesso!');
                }
            }

            removeTrack() {
                if (this.playlist.length > 1) {
                    const index = prompt(`Remover música (0-${this.playlist.length - 1}):`);
                    if (index !== null && index >= 0 && index < this.playlist.length) {
                        this.playlist.splice(index, 1);
                        if (this.currentTrack >= this.playlist.length) {
                            this.currentTrack = 0;
                        }
                        this.refreshPlaylist();
                        this.updateDisplay();
                        alert('🗑️ Música removida!');
                    }
                } else {
                    alert('❌ Não é possível remover a última música!');
                }
            }

            editPlaylist() {
                alert('✏️ Editor de playlist - Funcionalidade em desenvolvimento!');
            }

            savePlaylist() {
                const playlistData = JSON.stringify(this.playlist, null, 2);
                console.log('💾 Playlist salva:', playlistData);
                alert('💾 Playlist salva com sucesso!');
            }

            refreshPlaylist() {
                const container = document.getElementById('playlist-container');
                container.innerHTML = '';
                
                this.playlist.forEach((track, index) => {
                    const item = document.createElement('div');
                    item.className = 'playlist-item';
                    if (index === this.currentTrack) item.classList.add('active');
                    item.dataset.track = index;
                    item.textContent = `🎵 ${track.title} - ${track.artist}`;
                    item.addEventListener('click', () => this.selectTrack(index));
                    container.appendChild(item);
                });
            }
        }

        // === WITCH.TV ===
        class WitchTV {
            constructor() {
                this.channels = [
                    { name: "🌙 Canal Lunar", content: "Meditações Noturnas", status: "AO VIVO" },
                    { name: "🔮 Oráculos & Profecias", content: "Consultas Místicas", status: "24h" },
                    { name: "🌿 Herbalismo Sagrado", content: "Plantas Medicinais", status: "HD" },
                    { name: "⭐ Astrologia Avançada", content: "Mapas Astrais", status: "PREMIUM" },
                    { name: "🧙‍♀️ Escola de Magia", content: "Curso Básico", status: "NOVO" }
                ];
                this.currentChannel = 0;
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.updateChannel();
            }

            setupEventListeners() {
                document.querySelectorAll('.channel-item').forEach((item, index) => {
                    item.addEventListener('click', () => {
                        this.switchChannel(index);
                    });
                });
            }

            switchChannel(channelIndex) {
                this.currentChannel = channelIndex;
                this.updateChannel();
                
                // Atualizar lista visual
                document.querySelectorAll('.channel-item').forEach((item, i) => {
                    item.classList.toggle('active', i === channelIndex);
                });
            }

            updateChannel() {
                const channel = this.channels[this.currentChannel];
                const tvContent = document.getElementById('tv-content');
                tvContent.textContent = `${channel.name} - ${channel.content}`;
                console.log('📺 Mudando para:', channel.name);
            }
        }

        // === TARÔ APP ===
        class TarotApp {
            constructor() {
                this.cards = [
                    { name: "O Mago", meaning: "Poder pessoal, manifestação, recursos disponíveis" },
                    { name: "A Sacerdotisa", meaning: "Intuição, mistério, conhecimento oculto" },
                    { name: "A Imperatriz", meaning: "Fertilidade, criatividade, abundância" },
                    { name: "O Imperador", meaning: "Autoridade, estrutura, controle" },
                    { name: "O Hierofante", meaning: "Tradição, conformidade, moralidade" },
                    { name: "Os Amantes", meaning: "Amor, harmonia, relacionamentos" },
                    { name: "O Carro", meaning: "Controle, determinação, direção" },
                    { name: "A Força", meaning: "Força interior, bravura, compaixão" },
                    { name: "O Eremita", meaning: "Busca interior, introspecção, orientação" },
                    { name: "A Roda da Fortuna", meaning: "Boa sorte, karma, ciclos de vida" }
                ];
                this.selectedCards = [];
                this.init();
            }

            init() {
                this.setupEventListeners();
            }

            setupEventListeners() {
                document.querySelectorAll('.tarot-card').forEach((card, index) => {
                    card.addEventListener('click', () => {
                        this.revealCard(index);
                    });
                });
            }

            revealCard(cardIndex) {
                if (this.selectedCards[cardIndex]) return;

                const randomCard = this.cards[Math.floor(Math.random() * this.cards.length)];
                this.selectedCards[cardIndex] = randomCard;

                const cardElement = document.querySelector(`[data-card="${cardIndex}"]`);
                cardElement.classList.add('revealed');
                cardElement.textContent = randomCard.name;

                this.updateReading();
            }

            updateReading() {
                const positions = ['Passado', 'Presente', 'Futuro'];
                const reading = document.getElementById('tarot-reading');
                
                let content = '<h4>🔮 Sua Leitura</h4>';
                
                this.selectedCards.forEach((card, index) => {
                    if (card) {
                        content += `<p><strong>${positions[index]}:</strong> ${card.name}</p>`;
                        content += `<p><em>${card.meaning}</em></p>`;
                    }
                });

                if (this.selectedCards.filter(c => c).length === 0) {
                    content += '<p>Clique nas cartas para revelar sua leitura sobre Passado, Presente e Futuro.</p>';
                }

                reading.innerHTML = content;
            }
        }

        // === LIVROS APP ===
        class BooksApp {
            constructor() {
                this.books = [
                    {
                        title: "Grimório das Sombras",
                        content: "Este antigo grimório contém feitiços e rituais das tradições sombrias. Aprenda sobre proteção, banimento e trabalho com energias densas de forma segura e responsável."
                    },
                    {
                        title: "Herbário Sagrado",
                        content: "Guia completo das plantas sagradas e suas propriedades mágicas. Descubra como usar ervas para cura, proteção, amor e prosperidade em seus rituais."
                    },
                    {
                        title: "Cristais & Energias",
                        content: "Manual prático sobre cristais e pedras preciosas. Aprenda a programar, limpar e usar cristais para amplificar suas intenções e equilibrar chakras."
                    },
                    {
                        title: "Rituais Lunares",
                        content: "Conecte-se com os ciclos lunares através de rituais poderosos. Cada fase da lua oferece oportunidades únicas para manifestação e transformação."
                    },
                    {
                        title: "Alquimia Moderna",
                        content: "A arte da transformação aplicada à vida moderna. Descubra como os princípios alquímicos podem ser usados para crescimento pessoal e espiritual."
                    },
                    {
                        title: "Runas Antigas",
                        content: "Sistema divinatório nórdico com 24 runas. Aprenda o significado de cada símbolo e como usar as runas para orientação e autoconhecimento."
                    },
                    {
                        title: "Chakras & Auras",
                        content: "Guia completo do sistema energético humano. Técnicas para equilibrar chakras, limpar a aura e desenvolver sensibilidade energética."
                    },
                    {
                        title: "Magia Elemental",
                        content: "Trabalhe com os quatro elementos: Terra, Água, Fogo e Ar. Aprenda rituais elementais e como invocar as energias da natureza."
                    }
                ];
                this.init();
            }

            init() {
                this.setupEventListeners();
            }

            setupEventListeners() {
                document.querySelectorAll('.book-spine').forEach((spine, index) => {
                    spine.addEventListener('click', () => {
                        this.openBook(index);
                    });
                });
            }

            openBook(bookIndex) {
                const book = this.books[bookIndex];
                const content = document.getElementById('book-content');
                
                content.innerHTML = `
                    <h4>📖 ${book.title}</h4>
                    <p>${book.content}</p>
                    <br>
                    <p><em>Este é apenas um resumo. O livro completo contém exercícios práticos, rituais detalhados e muito mais conhecimento esotérico.</em></p>
                    <br>
                    <p><strong>Clique em outro livro para continuar explorando a biblioteca!</strong></p>
                `;
                
                console.log('📚 Abrindo livro:', book.title);
            }
        }

        // === AFAST! APP ===
        class AFASTApp {
            constructor() {
                this.isRecording = false;
                this.speechLog = [];
                this.init();
            }

            init() {
                this.addToLog('> AFAST! v2.0 - Sistema de Reconhecimento de Voz Iniciado');
                this.addToLog('> Aguardando comando de voz...');
                this.addToLog('> Digite "help" para ver comandos disponíveis');
            }

            toggleRecording() {
                this.isRecording = !this.isRecording;
                const recordBtn = document.getElementById('record-btn');
                
                if (this.isRecording) {
                    recordBtn.classList.add('recording');
                    recordBtn.textContent = '⏹️ Parar';
                    this.addToLog('> 🎤 GRAVANDO... Fale agora!');
                    
                    // Som e notificação de início de gravação
                    if (window.auroraOS) {
                        window.auroraOS.playSound('recording');
                        window.auroraOS.showNotification('🎤 Gravação iniciada!', 'info', 1500);
                    }
                    
                    // Simular reconhecimento de voz
                    setTimeout(() => {
                        if (this.isRecording) {
                            const commands = [
                                'Olá, Aurora OS!',
                                'Abrir AstroMágick',
                                'Mostrar fase lunar',
                                'Reproduzir música',
                                'Como está o tempo?',
                                'Ativar modo místico'
                            ];
                            
                            const randomCommand = commands[Math.floor(Math.random() * commands.length)];
                            this.addToLog(`> 🎯 RECONHECIDO: "${randomCommand}"`);
                            this.addToLog('> ✅ Comando processado com sucesso!');
                            
                            // Som e notificação de sucesso
                            if (window.auroraOS) {
                                window.auroraOS.playSound('success');
                                window.auroraOS.showNotification(`🎯 Comando: "${randomCommand}"`, 'success', 3000);
                            }
                        }
                    }, 3000);
                } else {
                    recordBtn.classList.remove('recording');
                    recordBtn.textContent = '🎤 Gravar';
                    this.addToLog('> ⏹️ Gravação interrompida');
                    
                    if (window.auroraOS) {
                        window.auroraOS.showNotification('⏹️ Gravação interrompida', 'info', 1500);
                    }
                }
            }

            playback() {
                this.addToLog('> 🔊 Reproduzindo última gravação...');
                
                // Som e notificação de reprodução
                if (window.auroraOS) {
                    window.auroraOS.playSound('playback');
                    window.auroraOS.showNotification('🔊 Reproduzindo gravação...', 'info', 2000);
                }
                
                setTimeout(() => {
                    this.addToLog('> ✅ Reprodução concluída');
                    if (window.auroraOS) {
                        window.auroraOS.showNotification('✅ Reprodução concluída', 'success', 1500);
                    }
                }, 2000);
            }

            clearLog() {
                const terminal = document.getElementById('afast-terminal');
                if (terminal) {
                    terminal.innerHTML = '';
                    this.speechLog = [];
                    this.addToLog('> 🗑️ Log limpo - Sistema reiniciado');
                    
                    // Notificação de limpeza
                    if (window.auroraOS) {
                        window.auroraOS.showNotification('🗑️ Log do AFAST! limpo', 'info', 1500);
                        window.auroraOS.playSound('click');
                    }
                }
            }

            showHelp() {
                this.addToLog('> ❓ COMANDOS DISPONÍVEIS:');
                this.addToLog('  🎤 Gravar - Iniciar reconhecimento de voz');
                this.addToLog('  🔊 Reproduzir - Tocar última gravação');
                this.addToLog('  🗑️ Limpar - Limpar histórico do terminal');
                this.addToLog('  ❓ Ajuda - Mostrar esta mensagem');
                this.addToLog('> Sistema pronto para comandos de voz!');
                
                // Notificação de ajuda
                if (window.auroraOS) {
                    window.auroraOS.showNotification('❓ Lista de comandos exibida', 'info', 2000);
                    window.auroraOS.playSound('notification');
                }
            }

            addToLog(message) {
                const speechArea = document.getElementById('afast-terminal');
                if (speechArea) {
                    speechArea.innerHTML += message + '\n';
                    speechArea.scrollTop = speechArea.scrollHeight;
                }
                this.speechLog.push(message);
            }
        }

        // Funções globais para janelas
        function closeWindow(windowId) {
            document.getElementById(windowId).classList.remove('active');
        }

        function minimizeWindow(windowId) {
            document.getElementById(windowId).classList.remove('active');
        }

        // === ASTROMAGICK FUNCTIONS ===
        function showAstroTab(tabName) {
            // Remover classe active de todas as abas
            document.querySelectorAll('.astro-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remover classe active de todos os conteúdos
            document.querySelectorAll('.astro-tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Ativar aba clicada
            event.target.classList.add('active');
            
            // Mostrar conteúdo correspondente
            document.getElementById(`astro-tab-${tabName}`).classList.add('active');
            
            // Som de clique
            if (window.auroraOS) {
                window.auroraOS.playSound('click');
            }
            
            // Notificação de mudança de aba
            const tabNames = {
                'positions': '📊 Posições Planetárias',
                'lunar': '🌙 Informações Lunares',
                'transits': '⚡ Trânsitos Astrológicos',
                'aspects': '🔮 Aspectos Planetários',
                'alerts': '🚨 Sistema de Alertas'
            };
            
            if (window.auroraOS) {
                window.auroraOS.showNotification(`Navegando para: ${tabNames[tabName]}`, 'info', 1500);
            }
        }

        function openFullAstroApp() {
            // Notificação e som
            if (window.auroraOS) {
                window.auroraOS.playSound('notification');
                window.auroraOS.showNotification('🔮 Redirecionando para aplicação completa...', 'info', 3000);
            }
            
            // Aqui você pode adicionar o link para sua aplicação completa
            alert('🔮 Redirecionando para AstroMágick Completo!\n\nEsta funcionalidade será conectada à sua aplicação externa.');
        }

        function refreshAstroData() {
            // Som e notificação
            if (window.auroraOS) {
                window.auroraOS.playSound('success');
                window.auroraOS.showNotification('🔄 Atualizando dados astrológicos...', 'info', 2000);
            }
            
            // Simular atualização de dados
            setTimeout(() => {
                updatePlanetaryPositions();
                updateLunarInfo();
                updateTransits();
                updateAspects();
                checkAstrologicalAlerts();
                
                if (window.auroraOS) {
                    window.auroraOS.showNotification('✅ Dados astrológicos atualizados!', 'success', 2000);
                }
            }, 1000);
        }

        function updatePlanetaryPositions() {
            // Atualizar posições planetárias com dados simulados
            const positions = {
                'sun-position': '♍ Virgem 18°23\'',
                'moon-position': '♓ Peixes 12°45\'',
                'mercury-position': '♍ Virgem 25°12\'',
                'venus-position': '♎ Libra 3°08\'',
                'mars-position': '♋ Câncer 28°33\'',
                'jupiter-position': '♊ Gêmeos 15°27\'',
                'saturn-position': '♓ Peixes 19°41\'',
                'uranus-position': '♉ Touro 27°15\'',
                'neptune-position': '♓ Peixes 29°52\'',
                'pluto-position': '♑ Capricórnio 29°38\''
            };
            
            Object.entries(positions).forEach(([id, position]) => {
                const element = document.getElementById(id);
                if (element) {
                    element.textContent = position;
                }
            });
        }

        function updateLunarInfo() {
            // Atualizar informações lunares
            const now = new Date();
            const moonPhases = ['🌑', '🌒', '🌓', '🌔', '🌕', '🌖', '🌗', '🌘'];
            const phaseNames = ['Nova', 'Crescente', 'Quarto Crescente', 'Gibosa Crescente', 
                              'Cheia', 'Gibosa Minguante', 'Quarto Minguante', 'Minguante'];
            
            // Calcular fase atual (simulado)
            const dayOfMonth = now.getDate();
            const phaseIndex = Math.floor((dayOfMonth / 29.5) * 8) % 8;
            
            document.getElementById('moon-phase-icon').textContent = moonPhases[phaseIndex];
            document.getElementById('moon-phase-name').textContent = phaseNames[phaseIndex];
            document.getElementById('moon-illumination').textContent = `${Math.floor(Math.random() * 100)}% iluminada`;
        }

        function updateTransits() {
            // Atualizar trânsitos importantes
            console.log('🌟 Trânsitos atualizados');
        }

        function updateAspects() {
            // Atualizar aspectos astrológicos
            console.log('🔮 Aspectos atualizados');
        }

        function checkAstrologicalAlerts() {
            // Verificar alertas astrológicos e enviar para AFAST!
            const alerts = [
                {
                    type: 'warning',
                    title: 'MERCÚRIO RETRÓGRADO',
                    message: 'Mercúrio entrará em retrogradação em 3 dias. Cuidado com comunicações!'
                },
                {
                    type: 'info',
                    title: 'LUA CHEIA',
                    message: 'Lua Cheia em Áries aproximando-se. Energia intensa para novos projetos!'
                },
                {
                    type: 'critical',
                    title: 'ECLIPSE SOLAR',
                    message: 'Eclipse Solar detectado para 28/09. Prepare-se para mudanças importantes!'
                }
            ];
            
            // Enviar alertas para AFAST! se estiver ativo
            if (window.afast) {
                alerts.forEach(alert => {
                    const alertMessage = `🚨 ALERTA ASTROLÓGICO: ${alert.title} - ${alert.message}`;
                    window.afast.addToLog(`> ${alertMessage}`);
                });
                
                // Notificação de integração
                if (window.auroraOS) {
                    window.auroraOS.showNotification('🔗 Alertas enviados para AFAST!', 'success', 2000);
                }
            }
        }

        // Inicialização
        document.addEventListener('DOMContentLoaded', () => {
            window.auroraOS = new AuroraOS();
            console.log('🌟 Aurora OS inicializado com sucesso!');
        });
    </script>
</body>
</html>

